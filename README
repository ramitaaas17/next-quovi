Quovi - Plataforma de Descubrimiento de Restaurantes
Descripción General
Quovi es una aplicación web moderna para descubrir restaurantes locales con búsqueda inteligente, sistema de favoritos y navegación interactiva. La plataforma permite a los usuarios explorar establecimientos cercanos, ver menús, guardar favoritos y obtener direcciones en tiempo real.
Arquitectura del Sistema
El proyecto está construido con una arquitectura de microservicios completamente containerizada:

Frontend: Next.js 14 con TypeScript y Tailwind CSS
Backend: Go (Golang) con Gin Framework
Base de Datos: MySQL 8.0
Containerización: Docker y Docker Compose

Cumplimiento de Especificaciones
Frontend

Proyecto Next.js 14 (App Router)
Conexión a Backend mediante API REST
Servicio en contenedor independiente (puerto 3000)
Diseño completamente responsivo (mobile-first)

Backend

Desarrollado en Go (Golang)
Comunicación con Base de Datos vía GORM (ORM)
Hasheo de contraseñas con bcrypt (12 rounds)
Servicio en contenedor independiente (puerto 8080)

Base de Datos

Schema MySQL completo con tablas inicializadas
Datos de prueba precargados (restaurantes, usuarios, categorías)
Servicio en contenedor independiente (puerto 3306)

Tecnologías Utilizadas
Frontend

Next.js 14.2.22
React 18
TypeScript
Tailwind CSS
Framer Motion (animaciones)
Google OAuth 2.0
Leaflet (mapas interactivos)

Backend

Go 1.23
Gin Web Framework
GORM (ORM)
JWT para autenticación
bcrypt para hasheo de contraseñas
CORS configurado

Base de Datos

MySQL 8.0
Tablas con relaciones many-to-many
Triggers para actualización automática
Índices optimizados

Requisitos Previos

Docker Desktop instalado
Docker Compose instalado
Git
8GB RAM mínimo recomendado
Puertos disponibles: 3000, 8080, 3306

Instalación y Configuración
1. Clonar el Repositorio
bashgit clone <URL_DEL_REPOSITORIO>
cd quovi
2. Configurar Variables de Entorno
Crear archivo .env en la carpeta frontend:
envNEXT_PUBLIC_API_URL=http://localhost:8080/api
NEXT_PUBLIC_GOOGLE_CLIENT_ID=268691260379-gq3u019erlkn68103l7fttpsp3jm7hoo.apps.googleusercontent.com
3. Levantar los Servicios
bashdocker-compose up --build
Este comando:

Construye las imágenes de los tres servicios
Levanta los contenedores en orden (DB → Backend → Frontend)
Inicializa la base de datos con el schema y datos de prueba

4. Verificar que los Servicios Estén Activos
bashdocker-compose ps
```

Deberías ver tres contenedores en estado "Up":
- quovi_db (MySQL)
- quovi_backend (Go API)
- quovi_frontend (Next.js)

## Acceso a la Aplicación

### Frontend
```
http://localhost:3000
```

### Backend API
```
http://localhost:8080/api
```

### Health Check
```
http://localhost:8080/health
```

## Estructura del Proyecto
```
quovi/
├── frontend/
│   ├── src/
│   │   ├── app/              # Páginas Next.js (App Router)
│   │   ├── components/       # Componentes React
│   │   ├── services/         # Servicios de API
│   │   ├── hooks/            # Custom Hooks
│   │   └── utils/            # Utilidades
│   ├── Dockerfile
│   └── package.json
├── backend/
│   ├── handlers/             # Controladores HTTP
│   ├── services/             # Lógica de negocio
│   ├── models/               # Modelos de datos
│   ├── repository/           # Capa de acceso a datos
│   ├── middleware/           # Middlewares (CORS, Auth, Rate Limiting)
│   ├── utils/                # Utilidades (validación, logging)
│   ├── BD/                   # Scripts SQL
│   ├── Dockerfile
│   ├── go.mod
│   └── main.go
├── docker-compose.yml
└── README.md
```

## Funcionalidades Principales

### Autenticación
- Registro de usuarios con validación de contraseñas (mínimo 8 caracteres, mayúsculas, minúsculas, números, caracteres especiales)
- Login con email y contraseña
- OAuth 2.0 con Google
- JWT tokens con expiración de 24 horas
- Hasheo de contraseñas con bcrypt (12 rounds)

### Gestión de Perfil
- Ver y editar información personal
- Subir foto de perfil (base64, máximo 5MB)
- Cambiar contraseña
- Eliminar cuenta

### Búsqueda de Restaurantes
- Búsqueda por término libre
- Filtrado por categorías (Tacos, Pizza, Mariscos, etc.)
- Búsqueda por ubicación geográfica (Haversine)
- Cálculo de distancia y tiempo estimado
- Verificación de horarios en tiempo real

### Favoritos
- Agregar/eliminar restaurantes de favoritos
- Lista personalizada con distancias calculadas
- Ver menú completo de favoritos

### Mapa Interactivo
- Visualización con Leaflet y OpenStreetMap
- Marcadores personalizados por categoría
- Indicador de ubicación del usuario
- Controles de zoom y navegación

## API Endpoints

### Autenticación
```
POST /api/auth/register       - Registro de usuario
POST /api/auth/login          - Inicio de sesión
POST /api/auth/login/google   - Login con Google
POST /api/auth/logout         - Cerrar sesión
```

### Perfil (Requieren autenticación)
```
GET    /api/perfil            - Obtener perfil
PUT    /api/perfil            - Actualizar perfil
POST   /api/perfil/foto/base64 - Subir foto (base64)
DELETE /api/perfil/foto       - Eliminar foto
POST   /api/perfil/cambiar-password - Cambiar contraseña
```

### Restaurantes
```
GET  /api/restaurantes           - Lista de restaurantes
GET  /api/restaurantes/:id       - Detalle de restaurante
POST /api/restaurantes/cercanos  - Búsqueda por ubicación
POST /api/restaurantes/buscar    - Búsqueda con filtros
GET  /api/restaurantes/:id/platillos - Menú del restaurante
```

### Favoritos (Requieren autenticación)
```
GET    /api/favoritos         - Lista de favoritos
POST   /api/favoritos         - Agregar favorito
DELETE /api/favoritos/:id     - Eliminar favorito
```

### Categorías
```
GET /api/categorias                    - Lista de categorías
GET /api/categorias/:id/restaurantes   - Restaurantes por categoría
Seguridad Implementada
Backend

Rate limiting (5 peticiones/minuto en endpoints de autenticación)
Headers de seguridad (X-Frame-Options, CSP, etc.)
Validación de entrada contra SQL injection y XSS
Sanitización de datos
Límite de tamaño de body (5MB)
Logs de seguridad para eventos sospechosos

Frontend

Validación de formularios en cliente
Sanitización de inputs
Tokens JWT almacenados en localStorage
Manejo seguro de sesiones

Base de Datos
Tablas Principales

usuarios (con soporte OAuth)
restaurantes
categorias_cocina
caracteristicas
platillos
horarios
imagenes_restaurante
favoritos
resenas
sesiones
busquedas

Relaciones

Usuarios ↔ Favoritos ↔ Restaurantes (many-to-many)
Restaurantes ↔ Categorías (many-to-many)
Restaurantes ↔ Características (many-to-many)
Restaurantes → Platillos (one-to-many)
Restaurantes → Horarios (one-to-many)

Comandos Útiles
Ver logs de un servicio
bashdocker-compose logs -f frontend
docker-compose logs -f backend
docker-compose logs -f db
Reiniciar un servicio específico
bashdocker-compose restart frontend
docker-compose restart backend
docker-compose restart db
Detener todos los servicios
bashdocker-compose down
Detener y eliminar volúmenes (resetear base de datos)
bashdocker-compose down -v
Reconstruir contenedores
bashdocker-compose up --build --force-recreate